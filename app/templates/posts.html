{% extends 'base.html' %}

{% block title %}ê²Œì‹œê¸€ ëª©ë¡{% endblock %}

{% block content %}
<div class="container post-list">
    <div class="post-header" style="display:flex; justify-content:flex-end; align-items:center;gap:8px; margin-bottom:18px;">       
        <a href="/posts/list" class="btn btn-danger btn-wide">ê¸€ëª©ë¡</a>
        {% if current_user %}
        <a href="/posts/new" class="btn btn-primary btn-wide">ê¸€ì“°ê¸°</a>
        {% endif %}
        
    </div>
    <table class="post-table">
        <thead>
            <tr>
                <th>ë²ˆí˜¸</th>
                <th>ì œëª©</th>
                <th>ì‘ì„±ì</th>
                <th>ì‘ì„±ì¼</th>
                <th>ì¡°íšŒìˆ˜</th>
            </tr>
        </thead>
        <tbody>
            {% for post in posts %}
            <tr class="post-row" onclick="location.href='/posts/{{ post.id }}'">
                <td>{{ post.id }}</td>
                <td class="post-title">
                    {% if post.file_url and post.file_url.startswith('/static/uploads/') and ('.' in post.file_url) %}
                        <span title="ì²¨ë¶€íŒŒì¼ ìˆìŒ" style="vertical-align:middle; margin-left:6px; font-size:18px;">ğŸ“</span>
                    {% else %}                        
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        {% endif %}
                    {{ post.title }} 
                        
                </td>
                <td>{{ post.author or post.user.name or 'ì•Œ ìˆ˜ ì—†ìŒ' }}</td>
                <td>{{ post.created_at.strftime('%y-%m-%d') if post.created_at else '' }}</td>
                <td>{{ post.hit_count }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="pagination">
        <!-- í˜ì´ì§€ë„¤ì´ì…˜ êµ¬í˜„ í•„ìš”ì‹œ -->
    </div>
</div>
{% endblock %}

{% block script %}
<!-- í•„ìš”ì‹œ JS ì¶”ê°€ -->
{% endblock %}
